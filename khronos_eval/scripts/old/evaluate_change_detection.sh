#!/bin/bash

# ========== Params ==========
experiment_dir="/mnt/c/Users/DerFu/Documents/khronos/data/strandmon_gt"     # Which experiment to evaluate.
evaluation_config=$(rospack find khronos_eval)/config/change_detection.yaml # Which evaluation config to use.
force_recompute=true                                                        # Force recomputation if results already exist.

# ========== Which actions to perform ==========
run_evaluation=true

# ========== Autogenerated arguments ==========
output_dir=$experiment_dir/change_detection
exec_dir=$(catkin_find --first-only --without-underlays --libexec khronos_eval)

# ========== Run Evaluation ==========
# Evaluate.
if [[ $run_evaluation == true ]]; then
    eval $exec_dir/exp_change_detection $evaluation_config $experiment_dir $output_dir $force_recompute
fi

# roslaunch khronos_ros visualize_saved_dsg.launch dsg_file:=$output_dir/dsg_recolored.sparkdsg
